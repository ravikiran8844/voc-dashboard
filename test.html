<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Multi Step Modal Form</title>
  <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
</head>
<body class="flex items-center justify-center h-screen bg-gray-100" 
  x-data="getfeedbackData">

  <!-- Trigger Button -->
  <button @click="open = true" class="px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700">
    Open Feedback Form
  </button>

  <!-- Modal -->
  <div x-show="open" class="fixed inset-0 flex items-center justify-center z-50">
    <!-- Overlay -->
    <div class="absolute inset-0 bg-black opacity-50" @click="open = false"></div>

    <!-- Modal Box -->
    <div class="relative bg-white rounded-lg shadow-lg w-full max-w-md p-6" @click.away="open = false">

      <!-- Close Button -->
      <button @click="open = false" class="absolute top-2 right-2 text-gray-500 hover:text-gray-700 text-xl">
        &times;
      </button>

     

    </div>
  </div>


  <script>
 function getfeedbackData() {
   return ({
    open: false,
    step: 1,
    customerType: '',
    errors: {},
    formData: {
      salesExecutive: '',
      customerType: '',
      purchasedFeedback: { satisfaction: '' },
      nonPurchasedFeedback: { reason: '' }
    },
    validateStep1() {
      this.errors = {};
      if (!this.formData.salesExecutive) {
        this.errors.salesExecutive = 'Please select a sales executive.';
      }
      if (!this.formData.customerType) {
        this.errors.customerType = 'Please select a customer type.';
      }
      if (Object.keys(this.errors).length === 0) {
        this.step = 2;
      }
    },
    validateStep2() {
      this.errors = {};
      if (this.customerType === 'purchased') {
        if (!this.formData.purchasedFeedback.satisfaction) {
          this.errors.satisfaction = 'Please select an option.';
        }
      } else {
        if (!this.formData.nonPurchasedFeedback.reason) {
          this.errors.reason = 'Please select a reason.';
        }
      }
      if (Object.keys(this.errors).length === 0) {
        console.log('Collected Form Data:', this.formData);
        this.step = 3;
      }
    }
  })
 }
  </script>
</body>
</html>
